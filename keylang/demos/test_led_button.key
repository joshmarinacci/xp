@board("trinkey")

// the 'board' variable is automatically created, along with
// wait, print, LEDButton, and other builtins

var go
var button

@type("start",setup)
fun setup() {
    go = false
    button = LEDButton(board.SWITCH)
    button.color(GREEN)
    print("setup done",button)
}

@type("event",button,my_button_clicked)
fun my_button_clicked() {
    print("in my button done",button)
    if(go) {
        go = false
    } else {
        go = true
    }
    //go = not go // toggle
    //if go button.color(GREEN)
    //if not go button.color(RED)
    print("changed mode running to ",go)
}

@type("loop")
fun loop() {
    //if not go return
    if(go == false) return
    print("pressing E")
    //keyboard_press("E")
    button.color(RED)
    wait(0.3)
    button.color(BLACK)
    wait(0.3)
    //keyboard_release_all()
    print("waiting 3")
    wait(3)
}
