@board("canvas")

//range & arange min,max,step
//create a palette of 100 colors through the rainbow
let palette = range(0,100).map((v) => {
    let h = remap(v,0,100, 0,1)
    hsv(h,0.5,0.5)
})

print('palette is',palette)

@type("loop",loop,1)
fun loop() {
    let t = sine1(time)
    let n = remap(t,0,1, 0,palette.length)
    rects.forEach((r) => {
        r.color = palette.get(n)
        screen.fillRect(r,r.color)
    })
}
